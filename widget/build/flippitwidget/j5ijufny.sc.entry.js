const e=window.flippitwidget.h;import{d as t,b as a,a as s}from"./chunk-956f8c0a.js";import{b as n,a as i}from"./chunk-7bf0dbe1.js";class o{constructor(){this.code="+34"}handleSubmit(e){const{code:i,number:o}=this;e.preventDefault(),this.user.code=i,this.user.phone=Number(o),t(`${a.baseUrl}/oauth2/user`,this.user,n("FLIPPIT_accessToken")).then(e=>e.json()).then(e=>{200===e.status&&s(`${a.baseUrl}/oauth2/user/sms`,n("FLIPPIT_accessToken")).then(e=>e.json()).then(e=>{200===e.status&&this.navigate.emit("validationCode")})})}handleChange(e){switch(e.path[0].id){case"code":this.code=e.target.value;break;case"number":this.number=e.target.value}}componentWillLoad(){s(`${a.baseUrl}/oauth2/user`,n("FLIPPIT_accessToken")).then(e=>e.json()).then(e=>{200===e.status&&(delete e.data.updatedAt,delete e.data.createdAt,this.user=e.data,e.data.phone&&(this.number=e.data.phone),e.data.validated&&this.navigate.emit("home"),delete this.user.validated)})}goBack(){i(),this.navigate.emit("login")}render(){return e("div",{class:"flippit-phone-container"},e("div",{class:"phone-container-header"},e("h2",null,"Por tu seguridad verifiquemos tu cuenta"),e("h3",null,"Introduce tu número móvil y te enviaremos un mensaje con un código de verificación.")),e("form",{autocomplete:"off"},e("input",{type:"text",id:"code",value:this.code,disabled:!0}),e("input",{autoFocus:!0,type:"number",id:"number",value:this.number,onInput:e=>this.handleChange(e)}),e("div",{class:"buttons-container"},e("div",{class:"back",onClick:()=>this.goBack()},"Atrás"),e("div",{class:"next",onClick:e=>this.handleSubmit(e)},"Continuar"))),e("div",{class:"circles-container"},e("div",{class:"circle circle-active"}),e("div",{class:"circle"}),e("div",{class:"circle"})))}static get is(){return"ion-phone"}static get properties(){return{code:{state:!0},number:{state:!0},user:{state:!0}}}static get events(){return[{name:"navigate",method:"navigate",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".flippit-phone-container{margin-top:58px;width:100%;font-family:WorkSans,sans-serif}.flippit-phone-container .phone-container-header{width:100%;color:#fff;text-align:center;line-height:1.27}.flippit-phone-container .phone-container-header h2{margin:0;font-size:22px;letter-spacing:-.7px}.flippit-phone-container .phone-container-header h3{width:75%;margin:20px auto 0;font-size:18px;letter-spacing:-.6px}.flippit-phone-container form{margin-top:88px;text-align:center}.flippit-phone-container form #code,.flippit-phone-container form #number{padding-left:10px;background-color:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;color:#4a4a4a;font-size:18px;border:none;-webkit-box-shadow:inset 0 0 2px 1px rgba(33,34,64,.08);box-shadow:inset 0 0 2px 1px rgba(33,34,64,.08);border-radius:4px;height:48px}.flippit-phone-container form #number:focus{outline:none;border:1px solid #6311fa}.flippit-phone-container form #number::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.flippit-phone-container form #code{width:124px}.flippit-phone-container form #number{width:201px;margin-left:18px}.flippit-phone-container form .buttons-container{width:100%;display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.flippit-phone-container form .buttons-container .back,.flippit-phone-container form .buttons-container .next{display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-top:126px;width:166px;height:56px;border-radius:4px;font-size:18px;font-weight:600;color:#fff;cursor:pointer}.flippit-phone-container form .buttons-container .back{border:1px solid #fffcfc;background-color:transparent}.flippit-phone-container form .buttons-container .next{-webkit-box-shadow:1px 1px 2px 0 rgba(0,0,0,.15);box-shadow:1px 1px 2px 0 rgba(0,0,0,.15);background-color:#3d1980;border:1px solid #3d1980;margin-left:15px}.flippit-phone-container .circles-container{width:50%;margin:auto;height:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin-top:48px}.flippit-phone-container .circles-container .circle{border-radius:50%;width:10px;height:10px;border:1px solid #fff;background-color:transparent;margin-right:16px}.flippit-phone-container .circles-container .circle-active{background-color:#fff}"}}export{o as IonPhone};